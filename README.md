# Лабораторна робота №4 та №5 - Консольний застосунок з використанням Spring Boot і JPA для опрацювання декількох таблиць БД з реалізацією CRUD-операцій та зв’язків між таблицями

- Lab4Application (main)
    - Клас є точкою входу застосунку і містить тільки метод main, з якого запускається контекст Spring Boot.
    - Позначений анотацією @SpringBootApplication, що вмикає автоконфігурацію Spring Boot, сканування компонентів і підтримку JPA.
    - Після запуску JVM створює процес, а Spring ініціалізує всі біни як-от сервіси, репозиторії, контролери команд, консольне відображення CliView.

- Project (model)
    - Клас представляє сутність проєкту, яка мапиться на таблицю Projects у базі даних за допомогою JPA-анотацій.
    - Містить поля id (первинний ключ з автоінкрементом), url (унікальний URL репозиторію) і type (зв’язок Many-to-One з сутністю Type).
    - Використовується Hibernate/JPA при збереженні, читанні та оновленні проєктів через ProjectRepository та бізнес-логіку ProjectService.

- Type (model)
    - Клас представляє сутність типу проєкту, яка мапиться на таблицю Types у базі даних.
    - Містить поля id (первинний ключ) та name (унікальна назва типу) з відповідними JPA-анотаціями.
    - Використовується як ціль зв’язку Many-to-One у Project та в сервісах/репозиторіях для керування списком доступних типів проєктів.

- ProjectRepository (interface)
    - Інтерфейс репозиторію для сутності Project, який успадковується від JpaRepository і надає стандартні CRUD-операції.
    - Містить метод findByUrl для пошуку проєкту за унікальним URL та метод findAllByOrderByIdAsc для отримання всіх проєктів, відсортованих за ID.
    - Використовується в ProjectService для отримання списку проєктів, створення, оновлення, видалення та перевірки дублювання URL перед збереженням.

- TypeRepository (interface)
    - Інтерфейс репозиторію для сутності Type, який успадковується від JpaRepository з підтримкою CRUD-операцій.
    - Окрім базових методів, містить findByName для пошуку типу за унікальною назвою та findAllByOrderByIdAsc для сортування за ID.
    - Використовується в TypeService для CRUD-операцій над типами і в ProjectService для пошуку типу по імені під час створення чи оновлення проєкту.

- ProjectService (service)
    - Клас інкапсулює бізнес-логіку CRUD для проєктів та їх зв’язку з типами, відокремлюючи її від рівня представлення.
    - Використовує ProjectRepository для читання/запису таблиці Projects, перевірки існування записів та унікальності URL, а також TypeRepository для резолву типів по назві.
    - Методи createProject, updateProject, deleteProject повертають текстові результати операцій і викликаються контролером ProjectCommandController при обробці команд користувача.

- TypeService (service)
    - Клас інкапсулює бізнес-логіку CRUD для типів проєктів, реалізуючи перевірки вхідних даних і роботу з репозиторієм.
    - Використовує TypeRepository для створення, оновлення, видалення та отримання списку всіх типів у відсортованому за ID вигляді.
    - Методи createType, updateType, deleteType повертають текстові повідомлення про результат операції та викликаються контролером TypeCommandController під час обробки команд для таблиці Типи.

- CommandController (interface)
    - Інтерфейс інкапсулює спільну логіку парсингу команд CRUD у вигляді рядків для контролерів команд.
    - Оголошує методи handleCreate, handleUpdate, handleDelete для обробки дій C/U/D, а також getCommandPattern для надання регулярного виразу.
    - Містить дефолтний метод handleCommand, який застосовує спільний регулярний вираз, парсить ID, дію та параметри і делегує виконання в реалізації handleCreate/handleUpdate/handleDelete.

- TypeCommandController (controller)
    - Клас відповідає за парсинг і обробку текстових команд CRUD для таблиці Типи у вигляді рядків на кшталт C GameType, 2 U NewType, 3 D.
    - Реалізує CommandController: надає власний регулярний вираз і реалізацію методів handleCreate, handleUpdate, handleDelete, які викликають відповідні методи TypeService.
    - Делегує виконання бізнес-логіки в TypeService (створення, оновлення, видалення типів) і повертає готові текстові відповіді, які безпосередньо виводить CliView у консоль.

- ProjectCommandController (controller)
    - Клас відповідає за парсинг і обробку текстових команд CRUD для таблиці Проєкти у форматі C url type_name, 2 U url type_name, 3 D.
    - Також реалізує CommandController: використовує такий самий шаблон регулярного виразу з опційним ID та дією C/U/D, але додатково розбиває параметри на пару url та type_name.
    - Делегує виклики методів ProjectService (createProject, updateProject, deleteProject), перевіряє коректність формату команд і повертає текстові повідомлення для відображення в консольному інтерфейсі.

- TablePrinter (view)
    - Клас надає статичний утилітний метод printTable, який приймає список заголовків та список рядків і виводить таблицю з вирівнюванням колонок по лівому краю в консолі.
    - Динамічно обчислює ширину кожної колонки як максимум між довжиною заголовка і всіх значень у цій колонці, після чого формує форматний рядок для System.out.printf.
    - Використовується у CliView для красивого форматування виводу таблиць Типи, Проєкти та зв’язуючої таблиці Типи Проєктів без дублювання форматувального коду.

- CliView (view)
    - Клас відповідає за консольний інтерфейс: показує головне меню, виводить вміст таблиць, читає введення користувача та делегує обробку команд спеціалізованим контролерам TypeCommandController і ProjectCommandController.
    - Використовує TypeService і ProjectService для отримання списків сутностей з БД, TablePrinter для вирівняного табличного виводу, а також прапорець SHOW_EXTENDED_INFO_VIEW для перемикання між стандартним і розширеним відображенням зв’язків Project–Type.
    - Містить окремі методи handleTypes, handleProjects, handleTypesProjects, де перші два організовують цикл взаємодії з користувачем для CRUD-операцій, а третій лише відображає поточні зв’язки між проєктами та типами без можливості прямої зміни цієї зв’язуючої інформації.

- application.properties (configuration)
    - Файл містить налаштування підключення до СУБД, параметри драйвера, URL, логін/пароль, а також властивості Hibernate/JPA (наприклад, стратегія генерування схеми, відображення SQL у логах).
    - Використовується Spring Boot для автоматичної конфігурації DataSource, EntityManagerFactory та інших інфраструктурних компонентів, необхідних для роботи JPA-рівня та репозиторіїв.